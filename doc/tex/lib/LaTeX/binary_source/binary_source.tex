\clearpage

\section{Binary source}

\maketitle
This block generates a sequence of binary values (1 or 0) and it can work in four different modes: 

\begin{multicols}{2}
\begin{enumerate}
	\item Random
	\item PseudoRandom 
	\item DeterministicCyclic 
	\item DeterministicAppendZeros 
\end{enumerate}
\end{multicols}

This blocks doesn't accept any input signal. It produces any number of output signals.

\subsection*{Input Parameters}

	\begin{itemize}
		\item mode\{PseudoRandom\}\linebreak
		(Random, PseudoRandom, DeterministicCyclic, DeterministicAppendZeros)
		\item probabilityOfZero\{0.5\}\linebreak
		(real $\in$ [0,1])
		\item patternLength\{7\} \linebreak
		(integer $\in$ [1,32]) 
		\item bitStream\{"0100011101010101"\} \linebreak
		(string of 0's and 1's)
		\item numberOfBits\{-1\} \linebreak
		(long int)
		\item bitPeriod\{1.0/100e9\} \linebreak
		(double)
	\end{itemize}

\subsection*{Methods}

BinarySource(vector$\langle$Signal *$\rangle$ \&InputSig, vector$\langle$Signal *$\rangle$ \&OutputSig) :Block(InputSig, OutputSig)\{\};
\bigbreak	 
void initialize(void);
\bigbreak	 
bool runBlock(void);
\bigbreak	 
void setMode(BinarySourceMode m)
BinarySourceMode const getMode(void)
\bigbreak	 
void setProbabilityOfZero(double pZero) 
\bigbreak
double const getProbabilityOfZero(void) 
\bigbreak	 
void setBitStream(string bStream) 
\bigbreak
string const getBitStream(void) 
\bigbreak	 
void setNumberOfBits(long int nOfBits)
\bigbreak
long int const getNumberOfBits(void) 
\bigbreak	 
void setPatternLength(int pLength) 
\bigbreak
int const getPatternLength(void) 
\bigbreak	 
void setBitPeriod(double bPeriod)
\bigbreak
double const getBitPeriod(void) 

\subsection*{Functional description}

The \textit{mode} parameter allows the user to select between one of the four operation modes of the binary source.

\subparagraph*{Random Mode}
Generates a 0 with probability \textit{probabilityOfZero} and a 1 with probability 1-\textit{probabilityOfZero}.

\subparagraph*{Pseudorandom Mode} 
Generates a pseudorandom sequence with period $2^\textit{patternLength}-1$.

\subparagraph*{DeterministicCyclic Mode}
Generates the sequence of 0's and 1's specified by \textit{bitStream} and then repeats it.

\subparagraph*{DeterministicAppendZeros Mode}
Generates the sequence of 0's and 1's specified by \textit{bitStream} and then it fills the rest of the buffer space with zeros.

\subsection*{Input Signals}


\subparagraph*{Number:} 0

\subparagraph*{Type:} Binary (DiscreteTimeDiscreteAmplitude)

\subsection*{Output Signals}

\subparagraph*{Number:} 1 or more

\subparagraph*{Type:} Binary (DiscreteTimeDiscreteAmplitude)

\subsection*{Examples} 

\paragraph*{Random Mode}

\paragraph*{PseudoRandom Mode}
As an example consider a pseudorandom sequence with \textit{patternLength}=3 which contains a total of 7 ($2^3-1$) bits. In this sequence it is possible to find every combination of 0's and 1's that compose a 3 bit long subsequence with the exception of $000$. For this example the possible subsequences are $010$, $110$, $101$, $100$, $111$, $001$ and $100$ (they appear in figure \ref{BinarySequenceN3} numbered in this order). Some of these require wrap. 

\begin{figure}[h]
	\centering
\includegraphics[width=0.5\textwidth]{../m_qam_transmitter/figures/BinarySequenceN3}
\caption{Example of a pseudorandom sequence with a pattern length equal to 3.}\label{BinarySequenceN3}
\end{figure}

\paragraph*{DeterministicCyclic Mode}

As an example take the \textit{bit stream} '0100011101010101'. The generated binary signal is displayed in.

\paragraph*{DeterministicAppendZeros Mode}

Take as an example the \textit{bit stream} '0100011101010101'. The generated binary signal is displayed in \ref{MQAM1_DeterministAppendZeros}.

\begin{figure}
	\centering
	\includegraphics[width=\textwidth]{../m_qam_transmitter/figures/BinarySource_output}
	
	\caption{Binary signal generated by the block operating in the \textit{Deterministic Append Zeros} mode with a binary sequence 01000...}\label{MQAM1_DeterministAppendZeros}
\end{figure}

\subsection*{Sugestions for future improvement}

Implement an input signal that can work as trigger.

